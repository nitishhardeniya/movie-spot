(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,a){e.exports=a(52)},43:function(e,t,a){},44:function(e,t,a){},5:function(e,t){e.exports={BASE_URL:"https://api.themoviedb.org/3/",IMG_THUMB:"http://image.tmdb.org/t/p/w500",IMG_ORIGINAL:"http://image.tmdb.org/t/p/original",POPULAR:"movie/popular?",TOP_RATED:"movie/top_rated?",SEARCH:"search/movie?",API_KEY:"d6dadf6fd94626fca2e1aab19a6cf5e0"}},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),o=a.n(c),i=(a(43),a(44),function(e){return r.a.createElement("div",{className:"top-bar"},r.a.createElement("div",{className:"app-title"},r.a.createElement("span",{style:{fontWeight:"200"}},"Movie")," Spot"))}),s=a(8),l=a(9),u=a(12),p=a(10),m=a(13),d=a(5),E=a(18),v=Object(E.f)(function(e){var t=e.movies;e.size;return r.a.createElement("div",{className:"mv-slider"},t.map(function(t){return r.a.createElement("div",{className:"slider-tiles",key:t.id,onClick:function(){return a=t.id,void e.history.push("/movie/"+a);var a}},r.a.createElement("div",{className:"tile-body"},r.a.createElement("img",{src:d.IMG_THUMB+t.poster_path,width:240,height:360,alt:"no img"})),r.a.createElement("div",{className:"tile-footer"},r.a.createElement("div",null,t.title)))}))}),f={_debounce:function(e,t){var a;return function(){var n=this,r=arguments;clearTimeout(a),a=setTimeout(function(){e.apply(n,r)},t)}},_throttle:function(e,t){var a=!0;return function(){var n=arguments;a&&(e.apply(this,n),a=!1,setTimeout(function(){a=!0},t))}}},h=a(11),g=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).getFilteredResults=f._debounce(function(t){console.log("Im called",t),e.props.getSearchResult(t)},2e3),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"search-box"},r.a.createElement("input",{type:"text",onChange:function(t){return e.getFilteredResults(t.target.value)}}))}}]),t}(n.Component),O={getSearchResult:function(e){return{type:"GET_SEARCH",query:e}}},b=Object(h.b)(null,O)(g),_=(n.Component,function(){return{type:"GET_POPULAR"}}),y=function(){return{type:"GET_TOPRATED"}},j=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).state={movies:[],popular:[],toprated:[]},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getPopular(),this.props.getToprated()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section"},r.a.createElement(b,{getFilteredResults:this.getFilteredResults}),this.state.movies&&this.state.movies.length>0&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("div",{className:"cat-header"},"Search results ",r.a.createElement("a",{className:"view-all",href:"/popular"},"view all")," ")," ",r.a.createElement(v,{movies:this.state.movies})," "),this.state.popular&&this.state.popular.length>0&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("div",{className:"cat-header"},"Most Popular ",r.a.createElement("a",{className:"view-all",href:"/popular"},"view all")," ")," ",r.a.createElement(v,{movies:this.state.popular})," "),this.state.toprated&&this.state.toprated.length>0&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("div",{className:"cat-header"},"Top rated ",r.a.createElement("a",{className:"view-all",href:"/toprated"},"view all"))," ",r.a.createElement(v,{movies:this.state.toprated})," ")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.popular?{popular:e.popular,toprated:e.toprated,movies:e.movies}:{}}}]),t}(n.Component),w={getPopular:_,getToprated:y},N=Object(h.b)(function(e){return{popular:e.movies.popular,toprated:e.movies.toprated,movies:e.movies.results}},w)(j),R=a(27),T=a.n(R),I=function(e){e.score;return r.a.createElement("div",{className:"starts"},"\u2605 \u2605 \u2605 \u2605 \u2605")},P=function(e){var t=e.cardMeta,a=t.id,n=t.poster_path,c=t.title,o=t.release_date,i=t.vote_average;return r.a.createElement("div",{className:"card",key:a},r.a.createElement("img",{src:d.IMG_THUMB+n,width:240,height:360,alt:"no img"}),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"card-row"},c),r.a.createElement("div",{className:"card-row"},r.a.createElement(I,{score:i,total:10})),r.a.createElement("div",{className:"card-row font-grey"},T()(o).format("dddd, MMMM D YYYY"))))},k=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getPopular()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-title"},"Most popular"),r.a.createElement("div",{className:"container"},this.props.popular&&this.props.popular.map(function(e){return r.a.createElement(P,{key:e.id,cardMeta:e})})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{}}}]),t}(n.Component),A={getPopular:_},M=Object(h.b)(function(e){return{popular:e.movies.popular}},A)(k),D=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getToprated()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-title"},"Toprated"),r.a.createElement("div",{className:"container"},this.props.toprated&&this.props.toprated.map(function(e){return r.a.createElement(P,{key:e.id,cardMeta:e})})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{}}}]),t}(n.Component),S={getToprated:y},x=Object(h.b)(function(e){return{toprated:e.movies.toprated}},S)(D),C={getData:function(e){var t=localStorage.getItem(e);return JSON.parse(t)},setData:function(e,t){var a=JSON.stringify(t);return localStorage.setItem(e,a),!0},clearAll:function(){return localStorage.clear(),!0}},F=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).addToWishlist=function(e){C.setData("wishlist",[e])},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getMovieInfo(this.props.match.params.movieId)}},{key:"getMovieDisplay",value:function(e){var t=this;return r.a.createElement("div",{className:"main-content"},r.a.createElement("img",{src:d.IMG_ORIGINAL+e.backdrop_path,class:"img-fullpage",alt:"no img"}),r.a.createElement("div",{className:"card-lg"},r.a.createElement("div",{className:"card-popup"},r.a.createElement("div",{className:"popup-title"},e.title),r.a.createElement("div",{className:"card-row"},e.genres.map(function(e){return r.a.createElement("div",{className:"genre"},e.name)})," "),r.a.createElement("div",{className:"card-row font-grey"},T()(e.release_date).format("dddd, MMMM D YYYY")),r.a.createElement("p",{className:"card-row desc"},e.overview),r.a.createElement("button",{className:"btn-secondary",onClick:function(){t.addToWishlist(e.id)}},"Add to wishlist"))))}},{key:"render",value:function(){var e=this.props.info;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:""},e?this.getMovieDisplay(e):r.a.createElement("div",null,"Loading...")))}}]),t}(n.Component),G={getMovieInfo:function(e){return{type:"GET_MOVIE_INFO",query:e}}},L=Object(h.b)(function(e){return{info:e.movies.info}},G)(F),U=a(30),Y=a(17),V=a(19),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_POPULAR":case"GET_TOPRATED":case"GET_MOVIE_INFO":return Object(V.a)({},e,{loading:!0});case"POPULAR_RECEIVED":return Object(V.a)({},e,{popular:t.data,loading:!1});case"TOPRATED_RECEIVED":return Object(V.a)({},e,{toprated:t.data,loading:!1});case"RESULTS_RECIEVED":return Object(V.a)({},e,{results:t.data,loading:!1});case"INFO_RECIEVED":return Object(V.a)({},e,{info:t.data,loading:!1});default:return e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SEARCH":return Object(V.a)({},e,{query:t.query,loading:!0});default:return e}},q=Object(Y.c)({movies:B,filters:H}),K=a(37),W=a(7),J=a.n(W),X=a(20),z=J.a.mark(ae),$=J.a.mark(ne),Q=J.a.mark(re),Z=J.a.mark(ce),ee=J.a.mark(oe),te=J.a.mark(ie);function ae(){var e;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(d.BASE_URL+d.POPULAR+"api_key="+d.API_KEY).then(function(e){return e.json()});case 2:return e=t.sent,t.next=5,Object(X.b)({type:"POPULAR_RECEIVED",data:e.results});case 5:case"end":return t.stop()}},z)}function ne(){var e;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(d.BASE_URL+d.TOP_RATED+"api_key="+d.API_KEY).then(function(e){return e.json()});case 2:return e=t.sent,t.next=5,Object(X.b)({type:"TOPRATED_RECEIVED",data:e.results});case 5:case"end":return t.stop()}},$)}function re(e){var t,a;return J.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.query,n.next=3,fetch(d.BASE_URL+d.SEARCH+"api_key="+d.API_KEY+"&query="+t).then(function(e){return e.json()});case 3:return a=n.sent,n.next=6,Object(X.b)({type:"RESULTS_RECIEVED",data:a.results});case 6:case"end":return n.stop()}},Q)}function ce(e){var t,a;return J.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.query,n.next=3,fetch(d.BASE_URL+"movie/"+t+"?api_key="+d.API_KEY).then(function(e){return e.json()});case 3:return a=n.sent,n.next=6,Object(X.b)({type:"INFO_RECIEVED",data:a});case 6:case"end":return n.stop()}},Z)}function oe(){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.c)("GET_POPULAR",ae);case 2:return e.next=4,Object(X.c)("GET_TOPRATED",ne);case 4:return e.next=6,Object(X.c)("GET_SEARCH",re);case 6:return e.next=8,Object(X.c)("GET_MOVIE_INFO",ce);case 8:case"end":return e.stop()}},ee)}function ie(){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.a)([oe()]);case 2:case"end":return e.stop()}},te)}var se=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.d,le=Object(K.a)(),ue=Object(Y.e)(q,se(Object(Y.a)(le)));le.run(ie);var pe=ue;pe.subscribe(function(){console.log("Redux state tree: ",pe.getState())});var me=function(){return r.a.createElement(U.a,{basename:"/movie-spot"},r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/",component:N,exact:!0}),r.a.createElement(E.a,{path:"/popular",render:function(){return r.a.createElement(M,{popular:pe.getState().popular})}}),r.a.createElement(E.a,{path:"/toprated",component:x}),r.a.createElement(E.a,{path:"/movie/:movieId",component:L})))};var de=function(){return r.a.createElement(h.a,{store:pe},r.a.createElement(i,null),r.a.createElement(me,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.6b747a81.chunk.js.map