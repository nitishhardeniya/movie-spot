(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,a){e.exports=a(53)},44:function(e,t,a){},45:function(e,t,a){},5:function(e,t){e.exports={BASE_URL:"https://api.themoviedb.org/3/",IMG_THUMB:"http://image.tmdb.org/t/p/w500",IMG_ORIGINAL:"http://image.tmdb.org/t/p/original",UPCOMING:"movie/upcoming?",POPULAR:"movie/popular?",TOP_RATED:"movie/top_rated?",SEARCH:"search/movie?",API_KEY:"d6dadf6fd94626fca2e1aab19a6cf5e0"}},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(24),o=a.n(i),c=(a(44),a(45),a(37)),s={getData:function(e){var t=localStorage.getItem(e);return JSON.parse(t)},setData:function(e,t){var a=JSON.stringify(t);return localStorage.setItem(e,a),!0},clearAll:function(){return localStorage.clear(),!0}},l=a(5),u=a.n(l),m=r.a.memo(function(e){var t=s.getData("wishlist");return r.a.createElement("div",{className:"wl"},"Nitish's wishlist :",t&&Object.keys(t).map(function(e){return r.a.createElement("div",{className:"wl-box"},r.a.createElement("img",{className:"wl-poster",src:l.IMG_THUMB+t[e].poster_path}),r.a.createElement("div",{className:"wl-title"},t[e].name," "))}))}),p={display:"inline-block",position:"absolute",width:"150px",right:"10px",backgroundColor:"#44d8b8"},d=function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),i=a[0],o=a[1];return r.a.createElement("div",{className:"top-bar"},r.a.createElement("div",{className:"app-title"},r.a.createElement("span",{style:{fontWeight:"200"}},"Movie")," Spot"),r.a.createElement("button",{className:"btn-primary",style:p,onClick:function(){return o(!i)}},"Wishlist "),i&&r.a.createElement(m,null))},v=a(6),E=a(7),h=a(10),f=a(8),g=a(11),y=a(13),O=r.a.memo(Object(y.f)(function(e){var t=e.movies,a=s.getData("wishlist");return r.a.createElement("div",{className:"mv-slider"},t.map(function(t){return r.a.createElement("div",{className:"slider-tiles",key:t.id,onClick:function(){return a=t.id,void e.history.push("/movie/"+a);var a}},r.a.createElement("div",{className:"tile-body"},r.a.createElement("img",{src:l.IMG_THUMB+t.poster_path,width:240,height:360,alt:"no img"}),a&&a.hasOwnProperty(t.id)?r.a.createElement("i",{className:"material-icons mi-color wishlist-icon"},"favorite"):r.a.createElement("i",{className:"material-icons mi-color wishlist-icon"},"favorite_border")),r.a.createElement("div",{className:"tile-footer"},r.a.createElement("div",null,t.title)))}))})),b={_debounce:function(e,t){var a;return function(){var n=this,r=arguments;clearTimeout(a),a=setTimeout(function(){e.apply(n,r)},t)}},_throttle:function(e,t){var a=!0;return function(){var n=arguments;a&&(e.apply(this,n),a=!1,setTimeout(function(){a=!0},t))}}},_=a(9),N=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).getFilteredResults=b._debounce(function(e){a.props.getSearchResult(e)},2e3),a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"search-box"},r.a.createElement("i",{className:"material-icons mi-color mi-pointer",style:{position:"absolute",top:"15px",right:"10px"}},"search"),r.a.createElement("input",{type:"text",placeholder:"Search for movies ...",onChange:function(t){return e.getFilteredResults(t.target.value)}}))}}]),t}(n.Component),w={getSearchResult:function(e){return{type:"GET_SEARCH",query:e}}},j=Object(_.b)(null,w)(N),M=(n.Component,function(e){return{type:"GET_MOVIES_BY_CAT",query:e}}),I=function(e){function t(){var e;return Object(v.a)(this,t),(e=Object(h.a)(this,Object(f.a)(t).call(this))).state={movies:[],popular:[],toprated:[],upcoming:[],filters:{}},e}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.getMoviesByCategory("UPCOMING"),this.props.getMoviesByCategory("TOP_RATED"),this.props.getMoviesByCategory("POPULAR")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section"},r.a.createElement(j,null),this.state.movies&&this.state.movies.length>0&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("div",{className:"cat-header"},"Search results : ",r.a.createElement("b",null,this.props.filters.query)," ")," ",r.a.createElement(O,{movies:this.state.movies})," "),this.state.upcoming&&this.state.upcoming.length>0&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("div",{className:"cat-header"},"Upcoming ",r.a.createElement("a",{className:"view-all",href:"/upcoming"},"view all")," ")," ",r.a.createElement(O,{movies:this.state.upcoming})," "),this.state.popular&&this.state.popular.length>0&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("div",{className:"cat-header"},"Most Popular ",r.a.createElement("a",{className:"view-all",href:"/popular"},"view all")," ")," ",r.a.createElement(O,{movies:this.state.popular})," "),this.state.toprated&&this.state.toprated.length>0&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("div",{className:"cat-header"},"Top rated ",r.a.createElement("a",{className:"view-all",href:"/toprated"},"view all"))," ",r.a.createElement(O,{movies:this.state.toprated})," ")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.popular?{popular:e.popular,toprated:e.toprated,upcoming:e.upcoming,movies:e.movies,filters:e.filters}:{}}}]),t}(n.PureComponent),C={getMoviesByCategory:M},k=Object(_.b)(function(e){return{popular:e.movies.POPULAR,toprated:e.movies.TOP_RATED,upcoming:e.movies.UPCOMING,movies:e.movies.results,filters:e.filters}},C)(I),T=a(27),S=a.n(T),R=function(e){e.score;return r.a.createElement("div",{className:"stars"},"\u2605 \u2605 \u2605 \u2605 \u2605")},A=r.a.memo(Object(y.f)(function(e){var t=e.cardMeta,a=t.id,n=t.poster_path,i=t.title,o=t.release_date,c=t.vote_average;return r.a.createElement("div",{className:"card",key:a,onClick:function(){return t=a,void e.history.push("/movie/"+t);var t}},r.a.createElement("img",{src:l.IMG_THUMB+n,width:240,height:360,alt:"no img"}),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"card-row-sm"},i),r.a.createElement("div",{className:"card-row-sm"},r.a.createElement(R,{score:c,total:10})),r.a.createElement("div",{className:"card-row-sm font-grey"},S()(o).format("dddd, MMMM D YYYY"))))})),P=function(e){function t(){return Object(v.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.getMoviesByCategory("POPULAR")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-title"},"Most popular"),r.a.createElement("div",{className:"container"},this.props.popular&&this.props.popular.map(function(e){return r.a.createElement(A,{key:e.id,cardMeta:e})})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{}}}]),t}(n.Component),D={getMoviesByCategory:M},x=Object(_.b)(function(e){return{popular:e.movies.POPULAR}},D)(P),B=function(e){function t(){return Object(v.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.getMoviesByCategory("TOP_RATED")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-title"},"Toprated"),r.a.createElement("div",{className:"container"},this.props.toprated&&this.props.toprated.map(function(e){return r.a.createElement(A,{key:e.id,cardMeta:e})})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{}}}]),t}(n.Component),G={getMoviesByCategory:M},U=Object(_.b)(function(e){return{toprated:e.movies.TOP_RATED}},G)(B),F=function(e){function t(){return Object(v.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.getMoviesByCategory("UPCOMING")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-title"},"Upcoming"),r.a.createElement("div",{className:"container"},this.props.upcoming&&this.props.upcoming.map(function(e){return r.a.createElement(A,{key:e.id,cardMeta:e})})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{}}}]),t}(n.Component),Y={getMoviesByCategory:M},L=Object(_.b)(function(e){return{upcoming:e.movies.UPCOMING}},Y)(F),V=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).addToWishlist=function(e){var t={id:e.id,name:e.title,poster_path:e.poster_path},a=s.getData("wishlist");a?a[t.id]=t:(a={})[t.id]=t,s.setData("wishlist",a)},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.getMovieInfo(this.props.match.params.movieId)}},{key:"getMovieDisplay",value:function(e){var t=this,a=s.getData("wishlist");return a&&a.hasOwnProperty(e.id)&&console.log("Im in wishlist",e),r.a.createElement("div",{className:"main-content"},r.a.createElement("img",{src:l.IMG_ORIGINAL+e.backdrop_path,className:"img-fullpage",alt:"no img"}),r.a.createElement("div",{className:"card-lg"},r.a.createElement("div",{className:"card-popup"},r.a.createElement("div",{className:"popup-title"},e.title),r.a.createElement("div",{className:"card-row"},e.genres.map(function(e){return r.a.createElement("div",{key:e.id,className:"genre"},e.name)})," "),r.a.createElement("div",{className:"card-row font-grey",style:{marginLeft:"5px"}},S()(e.release_date).format("dddd, MMMM D YYYY")),r.a.createElement("p",{className:"card-row desc"},e.overview),r.a.createElement("div",{className:"card-row"},a&&a.hasOwnProperty(e.id)?r.a.createElement("div",{className:"wishlisted"},r.a.createElement("i",{class:"material-icons"},"done"),"Wishlisted"):r.a.createElement("button",{className:"btn-secondary",onClick:function(){t.addToWishlist(e)}},"Add to wishlist")))))}},{key:"render",value:function(){var e=this.props.info;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:""},e?this.getMovieDisplay(e):r.a.createElement("div",null,"Loading...")))}}]),t}(n.Component),q={getMovieInfo:function(e){return{type:"GET_MOVIE_INFO",query:e}}},H=Object(_.b)(function(e){return{info:e.movies.info}},q)(V),W=a(30),J=a(18),K=a(20),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIES_BY_CAT":case"GET_MOVIE_INFO":case"GET_SEARCH":return Object(K.a)({},e,{loading:!0});case"MOVIES_BY_CAT_RECEIVED":var a={};return a[t.query]=t.data,Object(K.a)({},e,a,{loading:!1});case"RESULTS_RECIEVED":return Object(K.a)({},e,{results:t.data,loading:!1});case"INFO_RECIEVED":return Object(K.a)({},e,{info:t.data,loading:!1});default:return e}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SEARCH":return Object(K.a)({},e,{query:t.query,loading:!0});default:return e}},z=Object(J.c)({movies:X,filters:$}),Q=a(38),Z=a(17),ee=a.n(Z),te=a(22),ae=ee.a.mark(ce),ne=ee.a.mark(se),re=ee.a.mark(le),ie=ee.a.mark(ue),oe=ee.a.mark(me);function ce(e){var t;return ee.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(l.BASE_URL+u.a[e.query]+"api_key="+l.API_KEY).then(function(e){return e.json()});case 2:return t=a.sent,a.next=5,Object(te.b)({type:"MOVIES_BY_CAT_RECEIVED",query:e.query,data:t.results});case 5:case"end":return a.stop()}},ae)}function se(e){var t,a;return ee.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.query,n.next=3,fetch(l.BASE_URL+l.SEARCH+"api_key="+l.API_KEY+"&query="+t).then(function(e){return e.json()});case 3:return a=n.sent,n.next=6,Object(te.b)({type:"RESULTS_RECIEVED",data:a.results});case 6:case"end":return n.stop()}},ne)}function le(e){var t,a;return ee.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.query,n.next=3,fetch(l.BASE_URL+"movie/"+t+"?api_key="+l.API_KEY).then(function(e){return e.json()});case 3:return a=n.sent,n.next=6,Object(te.b)({type:"INFO_RECIEVED",data:a});case 6:case"end":return n.stop()}},re)}function ue(){return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.c)("GET_MOVIES_BY_CAT",ce);case 2:return e.next=4,Object(te.d)("GET_SEARCH",se);case 4:return e.next=6,Object(te.d)("GET_MOVIE_INFO",le);case 6:case"end":return e.stop()}},ie)}function me(){return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.a)([ue()]);case 2:case"end":return e.stop()}},oe)}var pe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||J.d,de=Object(Q.a)(),ve=Object(J.e)(z,pe(Object(J.a)(de)));de.run(me);var Ee=ve;Ee.subscribe(function(){console.log("Redux state tree: ",Ee.getState())});var he=function(){return r.a.createElement(W.a,{basename:"/movie-spot"},r.a.createElement(y.c,null,r.a.createElement(y.a,{path:"/",component:k,exact:!0}),r.a.createElement(y.a,{path:"/upcoming",component:L}),r.a.createElement(y.a,{path:"/popular",component:x}),r.a.createElement(y.a,{path:"/toprated",component:U}),r.a.createElement(y.a,{path:"/movie/:movieId",component:H})))};var fe=function(){return r.a.createElement(_.a,{store:Ee},r.a.createElement(d,null),r.a.createElement(he,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,1,2]]]);
//# sourceMappingURL=main.e5d5efd4.chunk.js.map