(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,a){e.exports=a(55)},46:function(e,t,a){},47:function(e,t,a){},5:function(e,t){e.exports={BASE_URL:"https://api.themoviedb.org/3/",IMG_THUMB:"http://image.tmdb.org/t/p/w500",IMG_ORIGINAL:"http://image.tmdb.org/t/p/original",NOW_PLAYING:"movie/now_playing?",UPCOMING:"movie/upcoming?",POPULAR:"movie/popular?",TOP_RATED:"movie/top_rated?",SEARCH:"search/movie?",API_KEY:"d6dadf6fd94626fca2e1aab19a6cf5e0"}},55:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(24),c=a.n(o),i=(a(46),a(47),a(39)),s=a(7),l=a(5),u=a.n(l),m=n.a.memo(function(e){var t=e.data;return n.a.createElement("div",{className:"wl"},"Nitish's wishlist :",t&&Object.keys(t).map(function(e){return n.a.createElement("div",{className:"wl-box"},n.a.createElement("img",{className:"wl-poster",alt:"movie_img",src:l.IMG_THUMB+t[e].poster_path}),n.a.createElement("div",{className:"wl-title"},t[e].name," "))}))}),p=Object(s.b)(function(e){return{wishlist:e.wishlist}},null)(function(e){var t=Object(r.useState)(!1),a=Object(i.a)(t,2),o=a[0],c=a[1];return n.a.createElement("div",{className:"top-bar"},n.a.createElement("div",{className:"app-title"},n.a.createElement("span",{style:{fontWeight:"200"}},"Movie")," Spot"),n.a.createElement("i",{className:"material-icons mi-color wl-btn",title:"My wishlist",onClick:function(){return c(!o)}},"favorite"),o&&n.a.createElement(m,{data:e.wishlist}))}),d=a(15),v=a(16),h=a(18),g=a(17),E=a(19),f=a(9),y=Object(s.b)(function(e){return{wishlist:e.wishlist}},null)(n.a.memo(Object(f.f)(function(e){var t=e.movies,a=e.wishlist;return n.a.createElement("div",{className:"mv-slider"},t.map(function(t){return n.a.createElement("div",{className:"slider-tiles",key:t.id,onClick:function(){return a=t.id,void e.history.push("/movie/"+a);var a}},n.a.createElement("div",{className:"tile-body"},n.a.createElement("img",{src:l.IMG_THUMB+t.poster_path,width:240,height:360,alt:"no img"}),a&&a.hasOwnProperty(t.id)?n.a.createElement("i",{className:"material-icons mi-color wishlist-icon"},"favorite"):n.a.createElement("i",{className:"material-icons mi-color wishlist-icon"},"favorite_border")),n.a.createElement("div",{className:"tile-footer"},n.a.createElement("div",null,t.title)))}))}))),O={_debounce:function(e,t){var a;return function(){var r=this,n=arguments;clearTimeout(a),a=setTimeout(function(){e.apply(r,n)},t)}},_throttle:function(e,t){var a=!0;return function(){var r=arguments;a&&(e.apply(this,r),a=!1,setTimeout(function(){a=!0},t))}}},_=function(e){function t(){var e,a;Object(d.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).getFilteredResults=O._debounce(function(e){a.props.getSearchResult(e)},2e3),a}return Object(E.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"search-box"},n.a.createElement("i",{className:"material-icons mi-color mi-pointer",style:{position:"absolute",top:"15px",right:"10px"}},"search"),n.a.createElement("input",{type:"text",placeholder:"Search for movies ...",onChange:function(t){return e.getFilteredResults(t.target.value)}}))}}]),t}(r.Component),b={getSearchResult:function(e){return{type:"GET_SEARCH",query:e}}},w=Object(s.b)(null,b)(_),N=(r.Component,function(e){return{type:"GET_MOVIES_BY_CAT",query:e}}),I={POPULAR:"Most popular",UPCOMING:"Upcoming",NOW_PLAYING:"Now playing",TOP_RATED:"Top rated"},M=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(h.a)(this,Object(g.a)(t).call(this))).goto=function(t,a){t.preventDefault(),e.props.history.push(a)},e.state={movies:[],popular:[],toprated:[],upcoming:[],nowplaying:[],filters:{}},e}return Object(E.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.getMoviesByCategory({category:"NOW_PLAYING",page:1}),this.props.getMoviesByCategory({category:"UPCOMING",page:1}),this.props.getMoviesByCategory({category:"TOP_RATED",page:1}),this.props.getMoviesByCategory({category:"POPULAR",page:1})}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement("section",{className:"section"},n.a.createElement(w,null),this.state.movies&&this.state.movies.length>0&&n.a.createElement(n.a.Fragment,null," ",n.a.createElement("div",{className:"cat-header"},"Search results : ",n.a.createElement("b",null,this.props.filters.query)," ")," ",n.a.createElement(y,{movies:this.state.movies})," "),this.state.nowplaying&&this.state.nowplaying.length>0&&n.a.createElement(n.a.Fragment,null," ",n.a.createElement("div",{className:"cat-header"},I.NOW_PLAYING," ",n.a.createElement("a",{className:"view-all",href:"",onClick:function(t){return e.goto(t,"/category/now_playing")}},"view all")," ")," ",n.a.createElement(y,{movies:this.state.nowplaying})," "),this.state.upcoming&&this.state.upcoming.length>0&&n.a.createElement(n.a.Fragment,null," ",n.a.createElement("div",{className:"cat-header"},I.UPCOMING," ",n.a.createElement("a",{className:"view-all",href:"",onClick:function(t){return e.goto(t,"/category/upcoming")}},"view all")," ")," ",n.a.createElement(y,{movies:this.state.upcoming})," "),this.state.popular&&this.state.popular.length>0&&n.a.createElement(n.a.Fragment,null," ",n.a.createElement("div",{className:"cat-header"},I.POPULAR," ",n.a.createElement("a",{className:"view-all",href:"",onClick:function(t){return e.goto(t,"/category/popular")}},"view all")," ")," ",n.a.createElement(y,{movies:this.state.popular})," "),this.state.toprated&&this.state.toprated.length>0&&n.a.createElement(n.a.Fragment,null," ",n.a.createElement("div",{className:"cat-header"},I.TOP_RATED," ",n.a.createElement("a",{className:"view-all",href:"",onClick:function(t){return e.goto(t,"/category/top_rated")}},"view all"))," ",n.a.createElement(y,{movies:this.state.toprated})," ")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.popular?{popular:e.popular,toprated:e.toprated,nowplaying:e.nowplaying,upcoming:e.upcoming,movies:e.movies,filters:e.filters}:{}}}]),t}(r.PureComponent),j={getMoviesByCategory:N},S=Object(s.b)(function(e){return{popular:e.movies.POPULAR,toprated:e.movies.TOP_RATED,nowplaying:e.movies.NOW_PLAYING,upcoming:e.movies.UPCOMING,movies:e.movies.results,filters:e.filters}},j)(M),T=a(27),C=a(28),A=a.n(C),P=function(e){e.score;return n.a.createElement("div",{className:"stars"},"\u2605 \u2605 \u2605 \u2605 \u2605")},k=n.a.memo(Object(f.f)(function(e){var t=e.cardMeta,a=t.id,r=t.poster_path,o=t.title,c=t.release_date,i=t.vote_average;return n.a.createElement("div",{className:"card",key:a,onClick:function(){return t=a,void e.history.push("/movie/"+t);var t}},n.a.createElement("img",{src:l.IMG_THUMB+r,width:240,height:360,alt:"no img"}),n.a.createElement("div",{className:"card-footer"},n.a.createElement("div",{className:"card-row-sm"},o),n.a.createElement("div",{className:"card-row-sm"},n.a.createElement(P,{score:i,total:10})),n.a.createElement("div",{className:"card-row-sm font-grey"},A()(c).format("dddd, MMMM D YYYY"))))})),R=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).state={category:e.match.params.category,allMovies:[],page:1},a.loadMoreMovies=a.loadMoreMovies.bind(Object(T.a)(a)),a}return Object(E.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e={category:this.state.category.toUpperCase(),page:this.state.page};this.props.getMoviesByCategory(e)}},{key:"loadMoreMovies",value:function(){var e=this,t=this.state.page;this.setState({page:t+1},function(){var t={category:e.state.category.toUpperCase(),page:e.state.page};e.props.getMoviesByCategory(t)})}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container-title"},I[this.state.category.toUpperCase()]),n.a.createElement("div",{className:"container"},this.state.allMovies&&this.state.allMovies.map(function(e){return n.a.createElement(k,{key:e.id,cardMeta:e})}),n.a.createElement("button",{className:"btn-primary",onClick:this.loadMoreMovies},"+ Load more ")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t.category)return{allMovies:e[t.category]}}}]),t}(r.Component),D={getMoviesByCategory:N},G=Object(s.b)(function(e){return{now_playing:e.movies.NOW_PLAYING,upcoming:e.movies.UPCOMING,top_rated:e.movies.TOP_RATED,popular:e.movies.POPULAR}},D)(R),x=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.getMovieInfo(this.props.match.params.movieId)}},{key:"getMovieDisplay",value:function(e){var t=this;return n.a.createElement("div",{className:"main-content"},n.a.createElement("img",{src:l.IMG_ORIGINAL+e.backdrop_path,className:"img-fullpage",alt:"no img"}),n.a.createElement("div",{className:"card-lg"},n.a.createElement("div",{className:"card-popup"},n.a.createElement("div",{className:"popup-title"},e.title),n.a.createElement("div",{className:"card-row"},e.genres.map(function(e){return n.a.createElement("div",{key:e.id,className:"genre"},e.name)})," "),n.a.createElement("div",{className:"card-row font-grey",style:{marginLeft:"5px"}},A()(e.release_date).format("dddd, MMMM D YYYY")),n.a.createElement("p",{className:"card-row desc"},e.overview),n.a.createElement("div",{className:"card-row"},n.a.createElement("div",{className:"card-column-2"},n.a.createElement("span",{className:"card-body-title"},n.a.createElement("i",{class:"material-icons"},"star"),e.vote_average)),n.a.createElement("div",{className:"card-column-2"},n.a.createElement("span",{className:"card-body-title"},n.a.createElement("i",{class:"material-icons"},"thumb_up_alt"),e.vote_count))),n.a.createElement("div",{className:"card-row"},this.props.wishlist&&this.props.wishlist.hasOwnProperty(e.id)?n.a.createElement("button",{className:"btn-primary"},n.a.createElement("i",{className:"material-icons"},"favorite"),n.a.createElement("span",null,"Wishlisted")):n.a.createElement("button",{className:"btn-secondary",onClick:function(){t.props.addToWishlist(e)}},"Add to wishlist")))))}},{key:"render",value:function(){var e=this.props.info;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:""},e?this.getMovieDisplay(e):n.a.createElement("div",null,"Loading...")))}}]),t}(r.PureComponent),L={getMovieInfo:function(e){return{type:"GET_MOVIE_INFO",query:e}},addToWishlist:function(e){return{type:"ADD_ITEM_WISHLIST",query:e}}},U=Object(s.b)(function(e){return{info:e.movies.info,wishlist:e.wishlist}},L)(x),B=a(31),Y=a(20),W=a(35),q=a(13),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIES_BY_CAT":case"GET_MOVIE_INFO":case"GET_SEARCH":return Object(q.a)({},e,{loading:!0});case"MOVIES_BY_CAT_RECEIVED":var a={};return a[t.query.category]=e[t.query.category]?[].concat(Object(W.a)(e[t.query.category]),Object(W.a)(t.data)):t.data,Object(q.a)({},e,a,{loading:!1});case"RESULTS_RECIEVED":return Object(q.a)({},e,{results:t.data,loading:!1});case"INFO_RECIEVED":return Object(q.a)({},e,{info:t.data,loading:!1});default:return e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SEARCH":return Object(q.a)({},e,{query:t.query,loading:!0});default:return e}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WISHLIST_ITEMS":return Object(q.a)({},e,t.data);default:return e}},J=Object(Y.c)({movies:F,filters:H,wishlist:V}),K=a(40),X=a(6),$=a.n(X),z=a(12),Q={getData:function(e){var t=localStorage.getItem(e);return JSON.parse(t)},setData:function(e,t){var a=JSON.stringify(t);return localStorage.setItem(e,a),!0},clear:function(e){return localStorage.removeItem(e),!0},clearAll:function(){return localStorage.clear(),!0}},Z=$.a.mark(ce),ee=$.a.mark(ie),te=$.a.mark(se),ae=$.a.mark(le),re=$.a.mark(ue),ne=$.a.mark(me),oe=$.a.mark(pe);function ce(e){var t;return $.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(l.BASE_URL+u.a[e.query.category]+"api_key="+l.API_KEY+"&page="+e.query.page).then(function(e){return e.json()}).catch(function(e){return console.log(e)});case 2:return t=a.sent,a.next=5,Object(z.b)({type:"MOVIES_BY_CAT_RECEIVED",query:e.query,data:t.results});case 5:case"end":return a.stop()}},Z)}function ie(e){var t,a;return $.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.query,r.next=3,fetch(l.BASE_URL+l.SEARCH+"api_key="+l.API_KEY+"&query="+t).then(function(e){return e.json()}).catch(function(e){return console.log(e)});case 3:return a=r.sent,r.next=6,Object(z.b)({type:"RESULTS_RECIEVED",data:a.results});case 6:case"end":return r.stop()}},ee)}function se(e){var t,a;return $.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.query,r.next=3,fetch(l.BASE_URL+"movie/"+t+"?api_key="+l.API_KEY).then(function(e){return e.json()}).catch(function(e){return console.log(e)});case 3:return a=r.sent,r.next=6,Object(z.b)({type:"INFO_RECIEVED",data:a});case 6:case"end":return r.stop()}},te)}function le(){var e;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Q.getData("wishlist"),t.next=3,Object(z.b)({type:"WISHLIST_ITEMS",data:e});case 3:case"end":return t.stop()}},ae)}function ue(e){var t,a,r;return $.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.query,a={id:t.id,name:t.title,poster_path:t.poster_path},(r=Q.getData("wishlist"))?r[a.id]=a:(r={})[a.id]=a,Q.setData("wishlist",r),n.next=7,Object(z.b)({type:"WISHLIST_ITEMS",data:r});case 7:case"end":return n.stop()}},re)}function me(){return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.c)("GET_MOVIES_BY_CAT",ce);case 2:return e.next=4,Object(z.d)("GET_SEARCH",ie);case 4:return e.next=6,Object(z.d)("GET_MOVIE_INFO",se);case 6:return e.next=8,Object(z.d)("GET_WISHLIST",le);case 8:return e.next=10,Object(z.d)("ADD_ITEM_WISHLIST",ue);case 10:case"end":return e.stop()}},ne)}function pe(){return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.a)([me()]);case 2:case"end":return e.stop()}},oe)}var de=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.d,ve=Object(K.a)(),he=Object(Y.e)(J,de(Object(Y.a)(ve)));ve.run(pe);var ge=he;ge.subscribe(function(){console.log("Redux state tree: ",ge.getState())}),ge.dispatch({type:"GET_WISHLIST"});var Ee=function(){return n.a.createElement(B.a,{basename:"/movie-spot"},n.a.createElement(f.c,null,n.a.createElement(f.a,{path:"/",component:S,exact:!0}),n.a.createElement(f.a,{path:"/category/:category",component:G}),n.a.createElement(f.a,{path:"/movie/:movieId",component:U})))};var fe=function(){return n.a.createElement(s.a,{store:ge},n.a.createElement(p,null),n.a.createElement(Ee,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[41,1,2]]]);
//# sourceMappingURL=main.aee7a52a.chunk.js.map